{"remainingRequest":"/home/wesam/Code/CBS-official/cbs-ui/node_modules/babel-loader/lib/index.js!/home/wesam/Code/CBS-official/cbs-ui/node_modules/eslint-loader/index.js??ref--13-0!/home/wesam/Code/CBS-official/cbs-ui/src/router/index.js","dependencies":[{"path":"/home/wesam/Code/CBS-official/cbs-ui/src/router/index.js","mtime":1599452292718},{"path":"/home/wesam/Code/CBS-official/cbs-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wesam/Code/CBS-official/cbs-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/wesam/Code/CBS-official/cbs-ui/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgVnVlUm91dGVyIGZyb20gInZ1ZS1yb3V0ZXIiOwppbXBvcnQgTG9naW4gZnJvbSAiQC92aWV3cy9Mb2dpbi52dWUiOwppbXBvcnQgQ2xvY2sgZnJvbSAiQC92aWV3cy9DbG9jay52dWUiOwppbXBvcnQgQWRkVXNlciBmcm9tICJAL3ZpZXdzL0FkZFVzZXIudnVlIjsKaW1wb3J0IEVkaXRDbG9jayBmcm9tICJAL3ZpZXdzL0VkaXRDbG9jay52dWUiOwppbXBvcnQgc3RvcmUgZnJvbSAiLi4vc3RvcmUiOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXMgPSBbewogIHBhdGg6ICIvIiwKICBuYW1lOiAiTG9naW4iLAogIGNvbXBvbmVudDogTG9naW4sCiAgYmVmb3JlRW50ZXI6IGZ1bmN0aW9uIGJlZm9yZUVudGVyKHRvLCBmcm9tLCBuZXh0KSB7CiAgICBpZiAoc3RvcmUuZ2V0dGVycy5pc0xvZ2dlZEluKSBuZXh0KHsKICAgICAgbmFtZTogIkNsb2NrIgogICAgfSk7ZWxzZSBuZXh0KCk7CiAgfQp9LCB7CiAgcGF0aDogIi9jbG9jayIsCiAgbmFtZTogIkNsb2NrIiwKICBjb21wb25lbnQ6IENsb2NrCn0sIHsKICBwYXRoOiAiL2FkZFVzZXIiLAogIG5hbWU6ICJBZGRVc2VyIiwKICBjb21wb25lbnQ6IEFkZFVzZXIsCiAgYmVmb3JlRW50ZXI6IGZ1bmN0aW9uIGJlZm9yZUVudGVyKHRvLCBmcm9tLCBuZXh0KSB7CiAgICBpZiAoc3RvcmUuZ2V0dGVycy5yb2xlcy5pbmNsdWRlcygnc3VwZXInKSkgbmV4dCgpO2Vsc2UgbmV4dCh7CiAgICAgIG5hbWU6ICJDbG9jayIKICAgIH0pOwogIH0KfSwgewogIHBhdGg6ICIvZWRpdENsb2NrIiwKICBuYW1lOiAiRWRpdENsb2NrIiwKICBjb21wb25lbnQ6IEVkaXRDbG9jaywKICBiZWZvcmVFbnRlcjogZnVuY3Rpb24gYmVmb3JlRW50ZXIodG8sIGZyb20sIG5leHQpIHsKICAgIGlmIChzdG9yZS5nZXR0ZXJzLnJvbGVzLmluY2x1ZGVzKCdzdXBlcicpKSBuZXh0KCk7ZWxzZSBuZXh0KHsKICAgICAgbmFtZTogIkNsb2NrIgogICAgfSk7CiAgfQp9LCB7CiAgcGF0aDogIioiLAogIG5hbWU6ICJFbHNlIiwKICBiZWZvcmVFbnRlcjogZnVuY3Rpb24gYmVmb3JlRW50ZXIodG8sIGZyb20sIG5leHQpIHsKICAgIG5leHQoewogICAgICBuYW1lOiAiQ2xvY2siCiAgICB9KTsKICB9Cn1dOwp2YXIgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgbW9kZTogImhpc3RvcnkiLAogIGJhc2U6IHByb2Nlc3MuZW52LkJBU0VfVVJMLAogIHJvdXRlczogcm91dGVzCn0pOyAvLyBSZXF1aXJlIHVzZXIgdG8gYmUgbG9nZ2VkIGluCgpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICBpZiAodG8ubmFtZSAhPT0gIkxvZ2luIiAmJiAhc3RvcmUuZ2V0dGVycy5pc0xvZ2dlZEluIHx8IERhdGUubm93KCkgPD0gc3RvcmUuc3RhdGUudXNlci5leHApIHsKICAgIHN0b3JlLmRpc3BhdGNoKCdsb2dvdXQnKTsKICAgIG5leHQoewogICAgICBuYW1lOiAiTG9naW4iCiAgICB9KTsKICB9IGVsc2UgbmV4dCgpOwp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["/home/wesam/Code/CBS-official/cbs-ui/src/router/index.js"],"names":["Vue","VueRouter","Login","Clock","AddUser","EditClock","store","use","routes","path","name","component","beforeEnter","to","from","next","getters","isLoggedIn","roles","includes","router","mode","base","process","env","BASE_URL","beforeEach","Date","now","state","user","exp","dispatch"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AAEAN,GAAG,CAACO,GAAJ,CAAQN,SAAR;AAEA,IAAMO,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGEC,EAAAA,SAAS,EAAET,KAHb;AAIEU,EAAAA,WAAW,EAAE,qBAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAC/B,QAAIT,KAAK,CAACU,OAAN,CAAcC,UAAlB,EAA8BF,IAAI,CAAC;AAAEL,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAJ,CAA9B,KACKK,IAAI;AACV;AAPH,CADa,EAUb;AACEN,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGEC,EAAAA,SAAS,EAAER;AAHb,CAVa,EAeb;AACEM,EAAAA,IAAI,EAAE,UADR;AAEEC,EAAAA,IAAI,EAAE,SAFR;AAGEC,EAAAA,SAAS,EAAEP,OAHb;AAIEQ,EAAAA,WAAW,EAAE,qBAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAC/B,QAAGT,KAAK,CAACU,OAAN,CAAcE,KAAd,CAAoBC,QAApB,CAA6B,OAA7B,CAAH,EAA0CJ,IAAI,GAA9C,KACKA,IAAI,CAAC;AAAEL,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAJ;AACN;AAPH,CAfa,EAwBb;AACED,EAAAA,IAAI,EAAE,YADR;AAEEC,EAAAA,IAAI,EAAE,WAFR;AAGEC,EAAAA,SAAS,EAAEN,SAHb;AAIEO,EAAAA,WAAW,EAAE,qBAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAC/B,QAAGT,KAAK,CAACU,OAAN,CAAcE,KAAd,CAAoBC,QAApB,CAA6B,OAA7B,CAAH,EAA0CJ,IAAI,GAA9C,KACKA,IAAI,CAAC;AAAEL,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAJ;AACN;AAPH,CAxBa,EAiCb;AACED,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEE,EAAAA,WAAW,EAAE,qBAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAC/BA,IAAAA,IAAI,CAAC;AAAEL,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAJ;AACD;AALH,CAjCa,CAAf;AA0CA,IAAMU,MAAM,GAAG,IAAInB,SAAJ,CAAc;AAC3BoB,EAAAA,IAAI,EAAE,SADqB;AAE3BC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFS;AAG3BjB,EAAAA,MAAM,EAANA;AAH2B,CAAd,CAAf,C,CAMA;;AACAY,MAAM,CAACM,UAAP,CAAkB,UAACb,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAIF,EAAE,CAACH,IAAH,KAAY,OAAZ,IAAuB,CAACJ,KAAK,CAACU,OAAN,CAAcC,UAAtC,IACDU,IAAI,CAACC,GAAL,MAActB,KAAK,CAACuB,KAAN,CAAYC,IAAZ,CAAiBC,GADlC,EACuC;AACrCzB,IAAAA,KAAK,CAAC0B,QAAN,CAAe,QAAf;AACAjB,IAAAA,IAAI,CAAC;AAAEL,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAJ;AACD,GAJD,MAIOK,IAAI;AACZ,CAND;AAQA,eAAeK,MAAf","sourcesContent":["import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport Login from \"@/views/Login.vue\";\nimport Clock from \"@/views/Clock.vue\";\nimport AddUser from \"@/views/AddUser.vue\";\nimport EditClock from \"@/views/EditClock.vue\";\nimport store from \"../store\";\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"Login\",\n    component: Login,\n    beforeEnter: (to, from, next) => {\n      if (store.getters.isLoggedIn) next({ name: \"Clock\" });\n      else next();\n    }\n  },\n  {\n    path: \"/clock\",\n    name: \"Clock\",\n    component: Clock\n  },\n  {\n    path: \"/addUser\",\n    name: \"AddUser\",\n    component: AddUser,\n    beforeEnter: (to, from, next) => {\n      if(store.getters.roles.includes('super')) next();\n      else next({ name: \"Clock\" })\n    }\n  },\n  {\n    path: \"/editClock\",\n    name: \"EditClock\",\n    component: EditClock,\n    beforeEnter: (to, from, next) => {\n      if(store.getters.roles.includes('super')) next();\n      else next({ name: \"Clock\" })\n    }\n  },\n  {\n    path: \"*\",\n    name: \"Else\",\n    beforeEnter: (to, from, next) => {\n      next({ name: \"Clock\" });\n    }\n  }\n];\n\nconst router = new VueRouter({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes\n});\n\n// Require user to be logged in\nrouter.beforeEach((to, from, next) => {\n  if (to.name !== \"Login\" && !store.getters.isLoggedIn \n  || Date.now() <= store.state.user.exp) {\n    store.dispatch('logout');\n    next({ name: \"Login\" });\n  } else next();\n});\n\nexport default router;\n"]}]}