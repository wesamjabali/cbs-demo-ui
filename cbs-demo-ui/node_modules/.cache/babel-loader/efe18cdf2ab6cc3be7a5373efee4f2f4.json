{"remainingRequest":"/home/wesam/Code/CMS/cms-ui/node_modules/babel-loader/lib/index.js!/home/wesam/Code/CMS/cms-ui/node_modules/eslint-loader/index.js??ref--13-0!/home/wesam/Code/CMS/cms-ui/src/plugins/axios.js","dependencies":[{"path":"/home/wesam/Code/CMS/cms-ui/src/plugins/axios.js","mtime":1599229244614},{"path":"/home/wesam/Code/CMS/cms-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wesam/Code/CMS/cms-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/wesam/Code/CMS/cms-ui/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciKTsKCnZhciBBeGlvcyA9IHJlcXVpcmUoImF4aW9zIik7Cgp2YXIgc3RvcmUgPSByZXF1aXJlKCIuLi9zdG9yZSIpOwoKdmFyIGJhc2VVUkwgPSB7CiAgZGV2ZWxvcG1lbnQ6ICJodHRwOi8vbG9jYWxob3N0OjMzMzMvYXBwIiwKICBwcm9kdWN0aW9uOiAiaHR0cHM6Ly9jYnMtYmFja2VuZC5oZXJva3VhcHAuY29tL2FwcCIKfTsKdmFyIGF4aW9zID0gQXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiBiYXNlVVJMW3Byb2Nlc3MuZW52Lk5PREVfRU5WXQp9KTsKY29uc29sZS5sb2cocHJvY2Vzcy5lbnYuTk9ERV9FTlYpOyAvLyBBZGQgYSByZXF1ZXN0IGludGVyY2VwdG9yCgpheGlvcy5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIC8vY29uc29sZS5sb2coImNvbmZpZyIsIGNvbmZpZyk7CiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7IC8vIEFkZCBhIHJlc3BvbnNlIGludGVyY2VwdG9yCgpheGlvcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIC8vIHN1Y2Nlc3NmdWwgcmVzcG9uc2UgaW50ZXJjZXB0b3IKICByZXR1cm4gcmVzcG9uc2U7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIGNvbnNvbGUubG9nKCJlcnJvciIsIGVycm9yLnJlc3BvbnNlLnN0YXR1cyk7IC8vIGZhaWxlZCByZXNwb25zZSBpbnRlcmNlcHRvciAoc3RhdHVzIGNvZGVzIDMwMCspCgogIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT0gNDAxKSB7CiAgICBjb25zb2xlLmxvZygic3RvcmUiLCBzdG9yZSk7CiAgICBzdG9yZS5kZWZhdWx0LmRpc3BhdGNoKCJsb2dvdXQiKTsKICB9CgogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwptb2R1bGUuZXhwb3J0cyA9IGF4aW9zOw=="},{"version":3,"sources":["/home/wesam/Code/CMS/cms-ui/src/plugins/axios.js"],"names":["Axios","require","store","baseURL","development","production","axios","create","process","env","NODE_ENV","console","log","interceptors","request","use","config","error","Promise","reject","response","status","default","dispatch","module","exports"],"mappings":";;AAAA,IAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,IAAMC,KAAK,GAAGD,OAAO,CAAC,UAAD,CAArB;;AAEA,IAAME,OAAO,GAAG;AACdC,EAAAA,WAAW,EAAE,2BADC;AAEdC,EAAAA,UAAU,EAAE;AAFE,CAAhB;AAKA,IAAMC,KAAK,GAAGN,KAAK,CAACO,MAAN,CAAa;AACzBJ,EAAAA,OAAO,EAAEA,OAAO,CAACK,OAAO,CAACC,GAAR,CAAYC,QAAb;AADS,CAAb,CAAd;AAGAC,OAAO,CAACC,GAAR,CAAYJ,OAAO,CAACC,GAAR,CAAYC,QAAxB,E,CAEA;;AACAJ,KAAK,CAACO,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CACE,UAAAC,MAAM,EAAI;AACR;AACA,SAAOA,MAAP;AACD,CAJH,EAKE,UAAAC,KAAK,EAAI;AACP,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAPH,E,CAUA;;AACAX,KAAK,CAACO,YAAN,CAAmBO,QAAnB,CAA4BL,GAA5B,CACE,UAAAK,QAAQ,EAAI;AACV;AACA,SAAOA,QAAP;AACD,CAJH,EAKE,UAAAH,KAAK,EAAI;AACPN,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBK,KAAK,CAACG,QAAN,CAAeC,MAApC,EADO,CAEP;;AACA,MAAIJ,KAAK,CAACG,QAAN,CAAeC,MAAf,IAAyB,GAA7B,EAAkC;AAChCV,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBV,KAArB;AACAA,IAAAA,KAAK,CAACoB,OAAN,CAAcC,QAAd,CAAuB,QAAvB;AACD;;AACD,SAAOL,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAbH;AAgBAO,MAAM,CAACC,OAAP,GAAiBnB,KAAjB","sourcesContent":["const Axios = require(\"axios\");\nconst store = require(\"../store\");\n\nconst baseURL = {\n  development: \"http://localhost:3333/app\",\n  production: \"https://cbs-backend.herokuapp.com/app\"\n};\n\nconst axios = Axios.create({\n  baseURL: baseURL[process.env.NODE_ENV]\n});\nconsole.log(process.env.NODE_ENV);\n\n// Add a request interceptor\naxios.interceptors.request.use(\n  config => {\n    //console.log(\"config\", config);\n    return config;\n  },\n  error => {\n    return Promise.reject(error);\n  }\n);\n\n// Add a response interceptor\naxios.interceptors.response.use(\n  response => {\n    // successful response interceptor\n    return response;\n  },\n  error => {\n    console.log(\"error\", error.response.status);\n    // failed response interceptor (status codes 300+)\n    if (error.response.status == 401) {\n      console.log(\"store\", store);\n      store.default.dispatch(\"logout\");\n    }\n    return Promise.reject(error);\n  }\n);\n\nmodule.exports = axios;\n"]}]}