{"remainingRequest":"/home/wesam/Code/CMS/cms-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wesam/Code/CMS/cms-ui/src/views/EditClock.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/wesam/Code/CMS/cms-ui/src/views/EditClock.vue","mtime":1600140839590},{"path":"/home/wesam/Code/CMS/cms-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wesam/Code/CMS/cms-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/wesam/Code/CMS/cms-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wesam/Code/CMS/cms-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBfIGZyb20gImxvZGFzaCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNsb2NrIiwKICBjb21wdXRlZDogewogICAgaXNMb2dnZWRJbigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuaXNMb2dnZWRJbjsKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuZXdQdW5jaFVzZXJJRDogbnVsbCwKICAgICAgbmV3UHVuY2hEYXRlOiBudWxsLAogICAgICBuZXdQdW5jaFRpbWVJbjogbnVsbCwKICAgICAgbmV3UHVuY2hUaW1lT3V0OiBudWxsLAogICAgICBkYXRlRGlhbG9nOiBmYWxzZSwKICAgICAgdGltZUluRGlhbG9nOiBmYWxzZSwKICAgICAgdGltZU91dERpYWxvZzogZmFsc2UsCiAgICAgIG5ld1Nlc3Npb25EaWFsb2c6IGZhbHNlLAoKICAgICAgYWxsVXNlcklEczogW10sCiAgICAgIHVzZXJJRDogIiIsCiAgICAgIHB1bmNoSUQ6ICIiLAogICAgICBjbG9ja1N0YXR1czogIiIsCiAgICAgIHB1bmNoRGF0YTogW10sCiAgICAgIHVzZXJzOiBbXSwKICAgICAgYW1vdW50RWFybmVkOiAwLAogICAgICBzZWFyY2g6ICIiLAogICAgICBoZWFkZXJzOiBbCiAgICAgICAgewogICAgICAgICAgdGV4dDogIklEIiwKICAgICAgICAgIGFsaWduOiAic3RhcnQiLAogICAgICAgICAgdmFsdWU6ICJpZCIsCiAgICAgICAgICBncm91cGFibGU6IGZhbHNlCiAgICAgICAgfSwKICAgICAgICB7IHRleHQ6ICJJbiBUaW1lIiwgdmFsdWU6ICJpbnRpbWUiLCBncm91cGFibGU6IGZhbHNlIH0sCiAgICAgICAgeyB0ZXh0OiAiT3V0IFRpbWUiLCB2YWx1ZTogIm91dHRpbWUiLCBncm91cGFibGU6IGZhbHNlIH0sCiAgICAgICAgeyB0ZXh0OiAiRGF0ZSIsIHZhbHVlOiAiZGF0ZSIsIGdyb3VwYWJsZTogZmFsc2UgfSwKICAgICAgICB7IHRleHQ6ICJIb3VycyIsIHZhbHVlOiAiaG91cnMiLCBncm91cGFibGU6IGZhbHNlIH0KICAgICAgXSwKICAgICAgICAgICAgICAvLyBUT0RPOiBBZGQgYWJpbGl0eSB0byBjaGFuZ2UgdXNlciBjbG9ja3MuIAogICAgICB1c2VySGVhZGVyczogWwogICAgICAgICAgeyB0ZXh0OiAiSUQiLCB2YWx1ZTogImlkIiB9LAogICAgICAgICAgeyB0ZXh0OiAiVXNlcm5hbWUiLCB2YWx1ZTogInVzZXJuYW1lIiB9LAogICAgICAgICAgeyB0ZXh0OiAiRS1NYWlsIiwgdmFsdWU6ICJlbWFpbCIgfSwKICAgICAgICAgIHsgdGV4dDogIlJvbGVzIiwgdmFsdWU6ICJyb2xlcyIgfQogICAgICBdCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0Q2xvY2tTdGF0dXMoKTsKICAgIHRoaXMuZ2V0QWxsVXNlcnMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIG1ha2VOZXdTZXNzaW9uKCkgewogICAgICBsZXQgaW5EYXRlUGFyc2UgPSB0aGlzLm5ld1B1bmNoRGF0ZS5zcGxpdCgiLSIpOwogICAgICBsZXQgaW5UaW1lUGFyc2UgPSB0aGlzLm5ld1B1bmNoVGltZUluLnNwbGl0KCI6Iik7CiAgICAgIGxldCBvdXRUaW1lUGFyc2UgPSB0aGlzLm5ld1B1bmNoVGltZU91dC5zcGxpdCgiOiIpOwogICAgICBsZXQgaW5UaW1lID0gbmV3IERhdGUoaW5EYXRlUGFyc2VbMF0sIGluRGF0ZVBhcnNlWzFdLTEsIGluRGF0ZVBhcnNlWzJdLCBpblRpbWVQYXJzZVswXSwgaW5UaW1lUGFyc2VbMV0pCiAgICAgIGxldCBvdXRUaW1lID0gbmV3IERhdGUoaW5EYXRlUGFyc2VbMF0sIGluRGF0ZVBhcnNlWzFdLTEsIGluRGF0ZVBhcnNlWzJdLCBvdXRUaW1lUGFyc2VbMF0sIG91dFRpbWVQYXJzZVsxXSkKICAgICAgdGhpcy4kYXhpb3MucG9zdCgiYWNjb3VudC9hZG1pbmNsb2NrL25ld1Nlc3Npb24iLCB7CiAgICAgICAgdXNlcklEOiB0aGlzLm5ld1B1bmNoVXNlcklELAogICAgICAgIGluVGltZSwKICAgICAgICBvdXRUaW1lCiAgICAgIH0pCiAgICB9LAogICAgYXN5bmMgZWRpdFNlc3Npb24oKSB7CiAgICAgIGxldCBwdW5jaCA9IHRoaXMucHVuY2hEYXRhWzBdOwogICAgICBpZih0eXBlb2YgcHVuY2ggIT0gInVuZGVmaW5lZCIpCiAgICAgIGF3YWl0IHRoaXMuJGF4aW9zLnBvc3QoImFjY291bnQvYWRtaW5jbG9jay9lZGl0U2Vzc2lvbiIsIHsgaWQ6IHB1bmNoLmlkLCB1c2VyaWQ6IHB1bmNoLnVzZXJpZCwgaW50aW1lOiBwdW5jaC5pbnRpbWUsIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHRpbWU6IHB1bmNoLm91dHRpbWUsIGRhdGU6IHB1bmNoLmRhdGUsIHBheXJhdGU6IHB1bmNoLnBheXJhdGUgfSk7CiAgICB9LAogICAgYXN5bmMgZ2V0QWxsVXNlcnMoKSB7CiAgICAgIGxldCB1c2VycyA9IGF3YWl0IHRoaXMuJGF4aW9zLmdldCgiYWNjb3VudC91c2Vycy9nZXRBbGxVc2VycyIpOwogICAgICB0aGlzLnVzZXJzID0gdXNlcnMuZGF0YS51c2VyczsKICAgICAgdGhpcy51c2Vycy5mb3JFYWNoKHVzZXIgPT4gewogICAgICAgIHRoaXMuYWxsVXNlcklEcy5wdXNoKHt1c2VybmFtZTogdXNlci51c2VybmFtZSwgaWQ6IHVzZXIuaWR9KQogICAgICB9KQogICAgfSwKICAgIGFzeW5jIGdldFVzZXJTZXNzaW9ucygpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnVzZXJJRCk7CgogICAgICBjb25zdCBzZXNzaW9ucyA9IGF3YWl0IHRoaXMuJGF4aW9zLmdldCgiYWNjb3VudC9hZG1pbkNsb2NrL2dldFVzZXJTZXNzaW9ucyIsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHVzZXJJRDogdGhpcy51c2VySUQKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmVkaXRTZXNzaW9uKCk7IC8vVE9ETyBSRU1PVkUhISAKICAgICAgdGhpcy5hbW91bnRFYXJuZWQgPSAwOyAvLyBUT0RPOiByZXdvcmsgZWFybmluZ3MgbWVjaGFuaXNtCiAgICAgIF8uZm9yRWFjaChzZXNzaW9ucy5kYXRhLCBzZXNzaW9uID0+IHsKICAgICAgICBzZXNzaW9uLmRhdGUgPSBzZXNzaW9uLmludGltZTsKICAgICAgICAKICAgICAgICBpZihzZXNzaW9uLm91dHRpbWUpIHsKICAgICAgICAgIGxldCBjb21wdXRlZEhvdXJzID0gbmV3IERhdGUobnVsbCk7CiAgICAgICAgICBjb21wdXRlZEhvdXJzLnNldFNlY29uZHMoc2Vzc2lvbi5zZWNvbmRzd29ya2VkKTsKICAgICAgICAgIHNlc3Npb24uaG91cnMgPSBjb21wdXRlZEhvdXJzLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDExLCA4KTsKICAgICAgICAgIHRoaXMuYW1vdW50RWFybmVkICs9IHNlc3Npb24uc2Vjb25kc3dvcmtlZC8zNjAwICogc2Vzc2lvbi5wYXlyYXRlOwogICAgICAgIH0KICAgICAgfSk7CgogICAgICB0aGlzLnB1bmNoRGF0YSA9IHNlc3Npb25zLmRhdGE7CiAgICB9LAogICAgICAgICAgYXN5bmMgZGVsZXRlUHVuY2goKSB7CiAgICAgICAgYXdhaXQgdGhpcy4kYXhpb3MucG9zdCgiYWNjb3VudC9hZG1pbkNsb2NrL2RlbGV0ZVNlc3Npb24iLCB7CiAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgIHB1bmNoSUQ6IHRoaXMucHVuY2hJRAogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgYXdhaXQgdGhpcy5nZXRTZXNzaW9ucygpOwogICAgICB9LAogICAgZ2V0QnV0dG9uVGV4dCgpIHsKICAgICAgaWYgKHRoaXMuY2xvY2tTdGF0dXMgPT0gImluIikgcmV0dXJuICJDbG9jayBPdXQiOwogICAgICBlbHNlIHJldHVybiAiQ2xvY2sgSW4iOwogICAgfSwKICAgIGFzeW5jIGdldENsb2NrU3RhdHVzKCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHsgZGF0YSA9IHt9IH0gPSBhd2FpdCB0aGlzLiRheGlvcy5nZXQoIi9hY2NvdW50L2Nsb2NrL3N0YXR1cyIpOwogICAgICAgIGNvbnN0IGNsb2NrU3RhdHVzID0gZGF0YTsKICAgICAgICB0aGlzLmNsb2NrU3RhdHVzID0gY2xvY2tTdGF0dXM7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coImdldENsb2NrU3RhdHVzIC0+IGVycm9yIiwgZXJyb3IpOwogICAgICB9CiAgICB9LAoKICAgIGFzeW5jIHB1bmNoQ2xvY2soKSB7CiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgdGhpcy4kYXhpb3MucG9zdCgiL2FjY291bnQvY2xvY2svcHVuY2giKTsKICAgICAgICB0aGlzLmdldENsb2NrU3RhdHVzKCk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coInB1bmNoQ2xvY2sgLT4gZXJyb3IiLCBlcnJvcik7CiAgICAgIH0KICAgICAgdGhpcy5nZXRTZXNzaW9ucygpOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["EditClock.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqMA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditClock.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-row class=\"justify-center\">\n    <v-col cols=\"12\">\n      <!--\n      Dialog for new session\n      -->\n      <v-row no-gutters justify=\"center\">\n        <v-dialog v-model=\"newSessionDialog\" persistent max-width=\"600px\">\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              color=\"primary\"\n              dark\n              v-bind=\"attrs\"\n              v-on=\"on\"\n            >\n              New Session\n            </v-btn>\n          </template>\n        <v-card>\n          <v-card-title>\n            <span class=\"headline\">New Session</span>\n          </v-card-title>\n          <v-card-text>\n            <v-container>\n              <v-row>\n                <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                  <v-select\n                    v-model=\"newPunchUserID\"\n                    :items=\"allUserIDs\"\n                    item-text=\"username\"\n                    item-value=\"id\"\n                    prepend-icon=\"mdi-account\"\n                    label=\"User ID\"\n                    single-line\n                  ></v-select>\n                </v-col>\n                <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                <v-dialog\n                  ref=\"dateDialog\"\n                  v-model=\"dateDialog\"\n                  :return-value.sync=\"newPunchDate\"\n                  width=\"290px\"\n                >\n                  <template v-slot:activator=\"{ on, attrs }\">\n                    <v-text-field\n                      v-model=\"newPunchDate\"\n                      label=\"Date of session\"\n                      prepend-icon=\"mdi-calendar\"\n                      readonly\n                      v-bind=\"attrs\"\n                      v-on=\"on\"\n                    ></v-text-field>\n                  </template>\n                  <v-date-picker v-model=\"newPunchDate\" @input=\"$refs.dateDialog.save(newPunchDate)\" no-title scrollable>\n                    <v-spacer></v-spacer>\n                    <v-btn text color=\"primary\" @click=\"dateDialog = false\">Cancel</v-btn>\n                  </v-date-picker>\n                </v-dialog>                \n                </v-col>\n               \n                <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                  <v-dialog\n                  ref=\"timeInDialog\"\n                  v-model=\"timeInDialog\"\n                  :close-on-content-click=\"false\"\n                  :return-value.sync=\"newPunchTimeIn\"\n                  width=\"290px\"\n                  persistent\n                  >\n                  <template v-slot:activator=\"{ on, attrs }\">\n                    <v-text-field\n                    v-model=\"newPunchTimeIn\"\n                    label=\"Time in\"\n                    prepend-icon=\"mdi-clock-in\"\n                    readonly\n                    v-bind=\"attrs\"\n                    v-on=\"on\"\n                    ></v-text-field>\n                  </template>\n                    <v-time-picker v-model=\"newPunchTimeIn\">\n                      <v-spacer></v-spacer>\n                      <v-btn text color=\"primary\" @click=\"timeInDialog = false\">Cancel</v-btn>\n                      <v-btn text color=\"primary\" @click=\"$refs.timeInDialog.save(newPunchTimeIn)\">OK</v-btn>\n                    </v-time-picker>\n                  </v-dialog>\n                </v-col>\n\n                <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                  <v-dialog\n                  ref=\"timeOutDialog\"\n                  v-model=\"timeOutDialog\"\n                  :close-on-content-click=\"false\"\n                  :return-value.sync=\"newPunchTimeOut\"\n                  width=\"290px\"\n                  persistent\n                  >\n                  <template v-slot:activator=\"{ on, attrs }\">\n                    <v-text-field\n                    :disabled=\"!newPunchTimeIn\"\n                    v-model=\"newPunchTimeOut\"\n                    label=\"Time out\"\n                    prepend-icon=\"mdi-clock-out\"\n                    readonly\n                    v-bind=\"attrs\"\n                    v-on=\"on\"\n                    ></v-text-field>\n                  </template>\n                    <v-time-picker :min=\"newPunchTimeIn\" v-model=\"newPunchTimeOut\">\n                      <v-spacer></v-spacer>\n                      <v-btn text color=\"primary\" @click=\"timeOutDialog = false\">Cancel</v-btn>\n                      <v-btn text color=\"primary\" @click=\"$refs.timeOutDialog.save(newPunchTimeOut)\">OK</v-btn>\n                    </v-time-picker>\n                  </v-dialog>\n                </v-col>\n              </v-row>\n            </v-container>\n          </v-card-text>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn color=\"blue darken-1\" text @click=\"newSessionDialog = false\">Close</v-btn>\n            <v-btn color=\"blue darken-1\" text @click=\"newSessionDialog = false; makeNewSession()\">Save</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </v-row>\n        <div>\n          <v-data-table\n            :headers=\"headers\"\n            :items=\"punchData\"\n            item-key=\"id\"\n            :sortBy=\"['id']\"\n            :sort-desc=\"[true]\"\n            :search=\"search\"\n            :mobile-breakpoint=\"0\"\n            multi-sort\n            height=\"50vh\"\n            fixed-header\n            show-group-by\n            dense\n          >\n          </v-data-table>\n        </div>  \n        <div>\n          <v-card-text>\n            <v-text-field\n              v-model=\"search\"\n              prepend-icon=\"mdi-magnify\"\n              label=\"Search\"\n              single-line\n              hide-details\n            ></v-text-field>\n          </v-card-text>\n        </div>\n        <div>\n          <v-card-text>\n            <v-select\n              v-model=\"userID\"\n              :items=\"allUserIDs\"\n              item-text=\"username\"\n              item-value=\"id\"\n              prepend-icon=\"mdi-account\"\n              label=\"User ID\"\n              single-line\n              @input=\"getUserSessions\"\n            ></v-select>\n          </v-card-text>\n        </div>\n        <div>\n          <v-card-text class=\"mx-auto\">\n            <v-text-field\n              v-model=\"punchID\"\n              prepend-icon=\"mdi-clock\"\n              label=\"Punch ID\"\n              single-line\n              hide-details\n            ></v-text-field>\n          </v-card-text>\n          </div>\n          <div>\n            <v-btn color=\"red\" class=\"mx-auto\" @click=\"deletePunch()\">\n                Delete Session\n            </v-btn>\n          </div>\n\n\n      <div class=\"d-flex\">\n        <v-card elevation=2 class=\"mx-auto mt-4\">\n          <v-card-text class=\"black--text\">\n            <div>Amount Earned: ${{ amountEarned.toFixed(2) }}</div>\n          </v-card-text>\n        </v-card>\n      </div>\n    </v-col>\n  </v-row>\n</template>\n\n<script>\nimport _ from \"lodash\";\n\nexport default {\n  name: \"Clock\",\n  computed: {\n    isLoggedIn() {\n      return this.$store.getters.isLoggedIn;\n    }\n  },\n  data() {\n    return {\n      newPunchUserID: null,\n      newPunchDate: null,\n      newPunchTimeIn: null,\n      newPunchTimeOut: null,\n      dateDialog: false,\n      timeInDialog: false,\n      timeOutDialog: false,\n      newSessionDialog: false,\n\n      allUserIDs: [],\n      userID: \"\",\n      punchID: \"\",\n      clockStatus: \"\",\n      punchData: [],\n      users: [],\n      amountEarned: 0,\n      search: \"\",\n      headers: [\n        {\n          text: \"ID\",\n          align: \"start\",\n          value: \"id\",\n          groupable: false\n        },\n        { text: \"In Time\", value: \"intime\", groupable: false },\n        { text: \"Out Time\", value: \"outtime\", groupable: false },\n        { text: \"Date\", value: \"date\", groupable: false },\n        { text: \"Hours\", value: \"hours\", groupable: false }\n      ],\n              // TODO: Add ability to change user clocks. \n      userHeaders: [\n          { text: \"ID\", value: \"id\" },\n          { text: \"Username\", value: \"username\" },\n          { text: \"E-Mail\", value: \"email\" },\n          { text: \"Roles\", value: \"roles\" }\n      ]\n    };\n  },\n  mounted() {\n    this.getClockStatus();\n    this.getAllUsers();\n  },\n  methods: {\n    async makeNewSession() {\n      let inDateParse = this.newPunchDate.split(\"-\");\n      let inTimeParse = this.newPunchTimeIn.split(\":\");\n      let outTimeParse = this.newPunchTimeOut.split(\":\");\n      let inTime = new Date(inDateParse[0], inDateParse[1]-1, inDateParse[2], inTimeParse[0], inTimeParse[1])\n      let outTime = new Date(inDateParse[0], inDateParse[1]-1, inDateParse[2], outTimeParse[0], outTimeParse[1])\n      this.$axios.post(\"account/adminclock/newSession\", {\n        userID: this.newPunchUserID,\n        inTime,\n        outTime\n      })\n    },\n    async editSession() {\n      let punch = this.punchData[0];\n      if(typeof punch != \"undefined\")\n      await this.$axios.post(\"account/adminclock/editSession\", { id: punch.id, userid: punch.userid, intime: punch.intime, \n                                                                 outtime: punch.outtime, date: punch.date, payrate: punch.payrate });\n    },\n    async getAllUsers() {\n      let users = await this.$axios.get(\"account/users/getAllUsers\");\n      this.users = users.data.users;\n      this.users.forEach(user => {\n        this.allUserIDs.push({username: user.username, id: user.id})\n      })\n    },\n    async getUserSessions() {\n                    console.log(this.userID);\n\n      const sessions = await this.$axios.get(\"account/adminClock/getUserSessions\", {\n        params: {\n          userID: this.userID\n        }\n      });\n      this.editSession(); //TODO REMOVE!! \n      this.amountEarned = 0; // TODO: rework earnings mechanism\n      _.forEach(sessions.data, session => {\n        session.date = session.intime;\n        \n        if(session.outtime) {\n          let computedHours = new Date(null);\n          computedHours.setSeconds(session.secondsworked);\n          session.hours = computedHours.toISOString().substr(11, 8);\n          this.amountEarned += session.secondsworked/3600 * session.payrate;\n        }\n      });\n\n      this.punchData = sessions.data;\n    },\n          async deletePunch() {\n        await this.$axios.post(\"account/adminClock/deleteSession\", {\n            data: {\n                punchID: this.punchID\n            }\n        });\n        await this.getSessions();\n      },\n    getButtonText() {\n      if (this.clockStatus == \"in\") return \"Clock Out\";\n      else return \"Clock In\";\n    },\n    async getClockStatus() {\n      try {\n        const { data = {} } = await this.$axios.get(\"/account/clock/status\");\n        const clockStatus = data;\n        this.clockStatus = clockStatus;\n      } catch (error) {\n        console.log(\"getClockStatus -> error\", error);\n      }\n    },\n\n    async punchClock() {\n      try {\n        await this.$axios.post(\"/account/clock/punch\");\n        this.getClockStatus();\n      } catch (error) {\n        console.log(\"punchClock -> error\", error);\n      }\n      this.getSessions();\n    }\n  }\n};\n</script>\n"]}]}