{"remainingRequest":"/home/wesam/Code/CBS-official/cbs-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wesam/Code/CBS-official/cbs-ui/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/wesam/Code/CBS-official/cbs-ui/src/views/Login.vue","mtime":1600669134987},{"path":"/home/wesam/Code/CBS-official/cbs-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wesam/Code/CBS-official/cbs-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/wesam/Code/CBS-official/cbs-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wesam/Code/CBS-official/cbs-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTG9naW4nLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VybmFtZTogJycsCiAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgbG9naW5FcnJvcjogZmFsc2UsCiAgICAgIGJ1dHRvbkxvYWRpbmc6IGZhbHNlLAogICAgICBsb2dpblJ1bGVzOiB7CiAgICAgICAgd3Jvbmc6ICgpID0+CiAgICAgICAgICAhdGhpcy5sb2dpbkVycm9yIHx8ICdVc2VybmFtZSBvciBwYXNzd29yZCBpcyBpbmNvcnJlY3QuJywKICAgICAgfSwKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgdXNlcm5hbWUoKSB7CiAgICAgIHRoaXMubG9naW5FcnJvciA9IGZhbHNlOwogICAgICB0aGlzLiRyZWZzLmxvZ2luRm9ybS52YWxpZGF0ZSgpOwogICAgfSwKICAgIHBhc3N3b3JkKCkgewogICAgICB0aGlzLmxvZ2luRXJyb3IgPSBmYWxzZTsKICAgICAgdGhpcy4kcmVmcy5sb2dpbkZvcm0udmFsaWRhdGUoKTsKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBsb2dpbigpIHsKICAgICAgdGhpcy5idXR0b25Mb2FkaW5nID0gdHJ1ZTsKICAgICAgdHJ5IHsKICAgICAgICBsZXQgdXNlcm5hbWUgPSB0aGlzLnVzZXJuYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgbGV0IHBhc3N3b3JkID0gdGhpcy5wYXNzd29yZDsKCiAgICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2xvZ2luJywgeyB1c2VybmFtZSwgcGFzc3dvcmQgfSk7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9jbG9jaycpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMubG9naW5FcnJvciA9IHRydWU7CiAgICAgICAgdGhpcy4kcmVmcy5sb2dpbkZvcm0udmFsaWRhdGUoKTsKICAgICAgICB0aGlzLmJ1dHRvbkxvYWRpbmcgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-row>\n    <v-col cols=\"12\" class=\"d-flex justify-center\">\n      <v-card\n        class=\"ma-6 pa-6\"\n        :width=\"$vuetify.breakpoint.xsOnly ? '100vw' : '70vw'\"\n        color=\"#f2f2f2\"\n      >\n        <div class=\"title\">Login Form</div>\n        <v-divider class=\"my-3\"></v-divider>\n        <v-form @submit.prevent=\"login()\" ref=\"loginForm\">\n          <v-text-field\n            outlined\n            v-model=\"username\"\n            label=\"Username\"\n            name=\"username\"\n            type=\"text\"\n          ></v-text-field>\n          <v-text-field\n            outlined\n            v-model=\"password\"\n            name=\"password\"\n            type=\"password\"\n            label=\"Password\"\n            :rules=\"[loginRules.wrong]\"\n          ></v-text-field>\n          <div class=\"py-4 d-flex justify-center\">\n            <v-btn\n              :loading=\"buttonLoading\"\n              :disabled=\"buttonLoading\"\n              :width=\"$vuetify.breakpoint.xsOnly ? '40vw' : '140px'\"\n              type=\"submit\"\n              color=\"blue\"\n              >login</v-btn\n            >\n          </div>\n        </v-form>\n      </v-card>\n    </v-col>\n  </v-row>\n</template>\n\n<script>\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      username: '',\n      password: '',\n      loginError: false,\n      buttonLoading: false,\n      loginRules: {\n        wrong: () =>\n          !this.loginError || 'Username or password is incorrect.',\n      },\n    };\n  },\n  watch: {\n    username() {\n      this.loginError = false;\n      this.$refs.loginForm.validate();\n    },\n    password() {\n      this.loginError = false;\n      this.$refs.loginForm.validate();\n    },\n  },\n  methods: {\n    async login() {\n      this.buttonLoading = true;\n      try {\n        let username = this.username.toLowerCase();\n        let password = this.password;\n\n        await this.$store.dispatch('login', { username, password });\n        this.$router.push('/clock');\n      } catch (error) {\n        this.loginError = true;\n        this.$refs.loginForm.validate();\n        this.buttonLoading = false;\n      }\n    },\n  },\n};\n</script>\n"]}]}