{"remainingRequest":"/home/wesam/Code/CBS-official/cbs-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wesam/Code/CBS-official/cbs-ui/src/views/EditClock.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/wesam/Code/CBS-official/cbs-ui/src/views/EditClock.vue","mtime":1600411889416},{"path":"/home/wesam/Code/CBS-official/cbs-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wesam/Code/CBS-official/cbs-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/wesam/Code/CBS-official/cbs-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wesam/Code/CBS-official/cbs-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ2xvY2snLAogIGNvbXB1dGVkOiB7CiAgICBpc0xvZ2dlZEluKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5pc0xvZ2dlZEluOwogICAgfSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuZXdQdW5jaFVzZXJJRDogbnVsbCwKICAgICAgbmV3UHVuY2hEYXRlOiBudWxsLAogICAgICBuZXdQdW5jaFRpbWVJbjogbnVsbCwKICAgICAgbmV3UHVuY2hUaW1lT3V0OiBudWxsLAogICAgICBkYXRlRGlhbG9nOiBmYWxzZSwKICAgICAgdGltZUluRGlhbG9nOiBmYWxzZSwKICAgICAgdGltZU91dERpYWxvZzogZmFsc2UsCiAgICAgIG5ld1Nlc3Npb25EaWFsb2c6IGZhbHNlLAoKICAgICAgc2VsZWN0ZWRQdW5jaDogW10sCiAgICAgIGFsbFVzZXJJRHM6IFtdLAogICAgICB1c2VySUQ6ICcnLAogICAgICBwdW5jaERhdGE6IFtdLAogICAgICB1c2VyczogW10sCiAgICAgIGFtb3VudEVhcm5lZDogMCwKICAgICAgaGVhZGVyczogWwogICAgICAgIHsgdGV4dDogJ0luIFRpbWUnLCB2YWx1ZTogJ2ludGltZScsIGdyb3VwYWJsZTogZmFsc2UgfSwKICAgICAgICB7IHRleHQ6ICdPdXQgVGltZScsIHZhbHVlOiAnb3V0dGltZScsIGdyb3VwYWJsZTogZmFsc2UgfSwKICAgICAgICB7IHRleHQ6ICdEYXRlJywgdmFsdWU6ICdkYXRlJywgZ3JvdXBhYmxlOiBmYWxzZSB9LAogICAgICAgIHsgdGV4dDogJ0hvdXJzJywgdmFsdWU6ICdob3VycycsIGdyb3VwYWJsZTogZmFsc2UgfSwKICAgICAgXSwKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXRBbGxVc2VycygpOwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgbWFrZU5ld1Nlc3Npb24oKSB7CiAgICAgIGxldCBpbkRhdGVQYXJzZSA9IHRoaXMubmV3UHVuY2hEYXRlLnNwbGl0KCctJyk7CiAgICAgIGxldCBpblRpbWVQYXJzZSA9IHRoaXMubmV3UHVuY2hUaW1lSW4uc3BsaXQoJzonKTsKICAgICAgbGV0IG91dFRpbWVQYXJzZSA9IHRoaXMubmV3UHVuY2hUaW1lT3V0LnNwbGl0KCc6Jyk7CiAgICAgIHRoaXMubmV3UHVuY2hEYXRlID0gbnVsbDsKICAgICAgdGhpcy5uZXdQdW5jaFRpbWVJbiA9IG51bGw7CiAgICAgIHRoaXMubmV3UHVuY2hUaW1lT3V0ID0gbnVsbDsKICAgICAgbGV0IGluVGltZSA9IG5ldyBEYXRlKAogICAgICAgIGluRGF0ZVBhcnNlWzBdLAogICAgICAgIGluRGF0ZVBhcnNlWzFdIC0gMSwKICAgICAgICBpbkRhdGVQYXJzZVsyXSwKICAgICAgICBpblRpbWVQYXJzZVswXSwKICAgICAgICBpblRpbWVQYXJzZVsxXSwKICAgICAgKTsKICAgICAgbGV0IG91dFRpbWUgPSBuZXcgRGF0ZSgKICAgICAgICBpbkRhdGVQYXJzZVswXSwKICAgICAgICBpbkRhdGVQYXJzZVsxXSAtIDEsCiAgICAgICAgaW5EYXRlUGFyc2VbMl0sCiAgICAgICAgb3V0VGltZVBhcnNlWzBdLAogICAgICAgIG91dFRpbWVQYXJzZVsxXSwKICAgICAgKTsKICAgICAgdGhpcy4kYXhpb3MucG9zdCgnYWNjb3VudC9hZG1pbmNsb2NrL25ld1Nlc3Npb24nLCB7CiAgICAgICAgdXNlcklEOiB0aGlzLm5ld1B1bmNoVXNlcklELAogICAgICAgIGluVGltZSwKICAgICAgICBvdXRUaW1lLAogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyBlZGl0U2Vzc2lvbigpIHsKICAgICAgbGV0IHB1bmNoID0gdGhpcy5zZWxlY3RlZFB1bmNoWzBdOwogICAgICBpZiAodHlwZW9mIHB1bmNoICE9ICd1bmRlZmluZWQnKQogICAgICAgIGF3YWl0IHRoaXMuJGF4aW9zLnBvc3QoJ2FjY291bnQvYWRtaW5jbG9jay9lZGl0U2Vzc2lvbicsIHsKICAgICAgICAgIGlkOiBwdW5jaC5pZCwKICAgICAgICAgIHVzZXJpZDogcHVuY2gudXNlcmlkLAogICAgICAgICAgaW50aW1lOiBwdW5jaC5pbnRpbWUsCiAgICAgICAgICBvdXR0aW1lOiBwdW5jaC5vdXR0aW1lLAogICAgICAgICAgZGF0ZTogcHVuY2guZGF0ZSwKICAgICAgICAgIHBheXJhdGU6IHB1bmNoLnBheXJhdGUsCiAgICAgICAgfSk7CiAgICB9LAogICAgYXN5bmMgZ2V0QWxsVXNlcnMoKSB7CiAgICAgIGxldCB1c2VycyA9IGF3YWl0IHRoaXMuJGF4aW9zLmdldCgnYWNjb3VudC91c2Vycy9nZXRBbGxVc2VycycpOwogICAgICB0aGlzLnVzZXJzID0gdXNlcnMuZGF0YS51c2VyczsKICAgICAgdGhpcy51c2Vycy5mb3JFYWNoKHVzZXIgPT4gewogICAgICAgIHRoaXMuYWxsVXNlcklEcy5wdXNoKHsKICAgICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLAogICAgICAgICAgaWQ6IHVzZXIuaWQsCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIGdldFVzZXJTZXNzaW9ucygpIHsKICAgICAgbGV0IHNlc3Npb25zID0gYXdhaXQgdGhpcy4kYXhpb3MuZ2V0KAogICAgICAgICdhY2NvdW50L2FkbWluQ2xvY2svZ2V0VXNlclNlc3Npb25zJywKICAgICAgICB7CiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgdXNlcklEOiB0aGlzLnVzZXJJRCwKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgKTsKICAgICAgdGhpcy5hbW91bnRFYXJuZWQgPSAwOyAvLyBUT0RPOiByZXdvcmsgZWFybmluZ3MgbWVjaGFuaXNtCiAgICAgIHRoaXMucHVuY2hEYXRhID0gW107CiAgICAgIF8uZm9yRWFjaChzZXNzaW9ucy5kYXRhLCBzZXNzaW9uID0+IHsKICAgICAgICBzZXNzaW9uLmRhdGVPYmpJbiA9IHNlc3Npb24uaW50aW1lOwogICAgICAgIHNlc3Npb24uZGF0ZSA9IG1vbWVudChzZXNzaW9uLmludGltZSkuZm9ybWF0KAogICAgICAgICAgJ2RkZGQsIE1NTSBEbyBZWVlZJywKICAgICAgICApOwoKICAgICAgICBpZiAoc2Vzc2lvbi5vdXR0aW1lKSB7CiAgICAgICAgICBzZXNzaW9uLm91dHRpbWUgPSBtb21lbnQoc2Vzc2lvbi5vdXR0aW1lKS5mb3JtYXQoCiAgICAgICAgICAgICdoaDptbTpzcyBBJywKICAgICAgICAgICk7CiAgICAgICAgICBsZXQgY29tcHV0ZWRIb3VycyA9IG5ldyBEYXRlKG51bGwpOwogICAgICAgICAgY29tcHV0ZWRIb3Vycy5zZXRTZWNvbmRzKHNlc3Npb24uc2Vjb25kc3dvcmtlZCk7CiAgICAgICAgICBzZXNzaW9uLmhvdXJzID0gY29tcHV0ZWRIb3Vycy50b0lTT1N0cmluZygpLnN1YnN0cigxMSwgOCk7CiAgICAgICAgICB0aGlzLmFtb3VudEVhcm5lZCArPQogICAgICAgICAgICAoc2Vzc2lvbi5zZWNvbmRzd29ya2VkIC8gMzYwMCkgKiBzZXNzaW9uLnBheXJhdGU7CiAgICAgICAgfQogICAgICAgIHNlc3Npb24uaW50aW1lID0gbW9tZW50KHNlc3Npb24uaW50aW1lKS5mb3JtYXQoJ2hoOm1tOnNzIEEnKTsKICAgICAgfSk7CgogICAgICB0aGlzLnB1bmNoRGF0YSA9IHNlc3Npb25zLmRhdGE7CiAgICB9LAogICAgYXN5bmMgZGVsZXRlUHVuY2goKSB7CiAgICAgIGxldCBpbmRleCA9IHRoaXMucHVuY2hEYXRhLmZpbmRJbmRleCgKICAgICAgICBzID0+IHMuaWQgPT09IHRoaXMuc2VsZWN0ZWRQdW5jaFswXS5pZCwKICAgICAgKTsKCiAgICAgIGF3YWl0IHRoaXMuJGF4aW9zCiAgICAgICAgLnBvc3QoJ2FjY291bnQvYWRtaW5DbG9jay9kZWxldGVTZXNzaW9uJywgewogICAgICAgICAgZGF0YTogewogICAgICAgICAgICBwdW5jaElEOiB0aGlzLnNlbGVjdGVkUHVuY2hbMF0uaWQsCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oCiAgICAgICAgICB0aGlzLnB1bmNoRGF0YS5zcGxpY2UoaW5kZXgsIDEpLAogICAgICAgICAgKHRoaXMuc2VsZWN0ZWRQdW5jaCA9IFtdKSwKICAgICAgICApOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["EditClock.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsSA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditClock.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-row class=\"justify-center\">\n    <v-col cols=\"12\">\n      <!-- Sessions Table -->\n      <div>\n        <v-data-table\n          class=\"elevation-1\"\n          v-model=\"selectedPunch\"\n          :headers=\"headers\"\n          :items=\"punchData\"\n          item-key=\"id\"\n          :sortBy=\"['dateObjIn']\"\n          :sort-desc=\"[true]\"\n          :mobile-breakpoint=\"0\"\n          :single-select=\"true\"\n          :items-per-page=\"200\"\n          height=\"50vh\"\n          fixed-header\n          dense\n          show-select\n          hide-default-footer\n        >\n          <template v-slot:top>\n            <v-toolbar flat color=\"white\">\n              <v-toolbar-title v-if=\"!$vuetify.breakpoint.xsOnly\"\n                >Edit Sessions</v-toolbar-title\n              >\n              <v-spacer v-if=\"!$vuetify.breakpoint.xsOnly\"></v-spacer>\n              <!-- User Select -->\n              <div>\n                <v-card-text class=\"mt-6\">\n                  <v-select\n                    dense\n                    outlined\n                    class=\"mx-auto\"\n                    v-model=\"userID\"\n                    :items=\"allUserIDs\"\n                    item-text=\"username\"\n                    item-value=\"id\"\n                    prepend-icon=\"mdi-account\"\n                    :label=\"\n                      $vuetify.breakpoint.xsOnly == true ? '' : 'User'\n                    \"\n                    @input=\"getUserSessions\"\n                  ></v-select>\n                </v-card-text>\n              </div>\n              <v-divider\n                v-if=\"!$vuetify.breakpoint.xsOnly\"\n                class=\"mx-4\"\n                inset\n                vertical\n              ></v-divider>\n              <!-- Delete Session Button -->\n              <div>\n                <v-btn\n                  :class=\"\n                    !$vuetify.breakpoint.xsOnly == true\n                      ? 'mx-4'\n                      : 'mx-2'\n                  \"\n                  :disabled=\"!selectedPunch[0]\"\n                  color=\"red\"\n                  @click=\"deletePunch()\"\n                >\n                  {{\n                    $vuetify.breakpoint.xsOnly == true\n                      ? 'del'\n                      : 'Delete'\n                  }}\n                </v-btn>\n              </div>\n              <v-divider\n                v-if=\"!$vuetify.breakpoint.xsOnly\"\n                class=\"mx-4\"\n                inset\n                vertical\n              ></v-divider>\n\n              <!-- Add Session button -->\n              <div>\n                <v-dialog\n                  v-model=\"newSessionDialog\"\n                  persistent\n                  max-width=\"600px\"\n                >\n                  <template v-slot:activator=\"{ on, attrs }\">\n                    <v-btn\n                      color=\"primary\"\n                      v-bind=\"attrs\"\n                      v-on=\"on\"\n                      class=\"mx-auto\"\n                      >{{\n                        $vuetify.breakpoint.xsOnly == true\n                          ? 'add'\n                          : 'new session'\n                      }}</v-btn\n                    >\n                  </template>\n                  <v-card>\n                    <v-card-title>\n                      <span class=\"headline\">New Session</span>\n                    </v-card-title>\n                    <v-card-text>\n                      <v-container>\n                        <v-row>\n                          <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                            <v-select\n                              v-model=\"newPunchUserID\"\n                              :items=\"allUserIDs\"\n                              item-text=\"username\"\n                              item-value=\"id\"\n                              prepend-icon=\"mdi-account\"\n                              label=\"User ID\"\n                              single-line\n                            ></v-select>\n                          </v-col>\n                          <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                            <v-dialog\n                              ref=\"dateDialog\"\n                              v-model=\"dateDialog\"\n                              :return-value.sync=\"newPunchDate\"\n                              width=\"290px\"\n                            >\n                              <template\n                                v-slot:activator=\"{ on, attrs }\"\n                              >\n                                <v-text-field\n                                  v-model=\"newPunchDate\"\n                                  label=\"Date of session\"\n                                  prepend-icon=\"mdi-calendar\"\n                                  readonly\n                                  v-bind=\"attrs\"\n                                  v-on=\"on\"\n                                ></v-text-field>\n                              </template>\n                              <v-date-picker\n                                v-model=\"newPunchDate\"\n                                @input=\"\n                                  $refs.dateDialog.save(newPunchDate)\n                                \"\n                                no-title\n                                scrollable\n                              >\n                                <v-spacer></v-spacer>\n                                <v-btn\n                                  text\n                                  color=\"primary\"\n                                  @click=\"dateDialog = false\"\n                                  >Cancel</v-btn\n                                >\n                              </v-date-picker>\n                            </v-dialog>\n                          </v-col>\n\n                          <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                            <v-dialog\n                              ref=\"timeInDialog\"\n                              v-model=\"timeInDialog\"\n                              :close-on-content-click=\"false\"\n                              :return-value.sync=\"newPunchTimeIn\"\n                              width=\"290px\"\n                              persistent\n                            >\n                              <template\n                                v-slot:activator=\"{ on, attrs }\"\n                              >\n                                <v-text-field\n                                  v-model=\"newPunchTimeIn\"\n                                  label=\"Time in\"\n                                  prepend-icon=\"mdi-clock-in\"\n                                  readonly\n                                  v-bind=\"attrs\"\n                                  v-on=\"on\"\n                                ></v-text-field>\n                              </template>\n                              <v-time-picker v-model=\"newPunchTimeIn\">\n                                <v-spacer></v-spacer>\n                                <v-btn\n                                  text\n                                  color=\"primary\"\n                                  @click=\"timeInDialog = false\"\n                                  >Cancel</v-btn\n                                >\n                                <v-btn\n                                  text\n                                  color=\"primary\"\n                                  @click=\"\n                                    $refs.timeInDialog.save(\n                                      newPunchTimeIn,\n                                    )\n                                  \"\n                                  >OK</v-btn\n                                >\n                              </v-time-picker>\n                            </v-dialog>\n                          </v-col>\n\n                          <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                            <v-dialog\n                              ref=\"timeOutDialog\"\n                              v-model=\"timeOutDialog\"\n                              :close-on-content-click=\"false\"\n                              :return-value.sync=\"newPunchTimeOut\"\n                              width=\"290px\"\n                              persistent\n                            >\n                              <template\n                                v-slot:activator=\"{ on, attrs }\"\n                              >\n                                <v-text-field\n                                  :disabled=\"!newPunchTimeIn\"\n                                  v-model=\"newPunchTimeOut\"\n                                  label=\"Time out\"\n                                  prepend-icon=\"mdi-clock-out\"\n                                  readonly\n                                  v-bind=\"attrs\"\n                                  v-on=\"on\"\n                                ></v-text-field>\n                              </template>\n                              <v-time-picker\n                                :min=\"newPunchTimeIn\"\n                                v-model=\"newPunchTimeOut\"\n                              >\n                                <v-spacer></v-spacer>\n                                <v-btn\n                                  text\n                                  color=\"primary\"\n                                  @click=\"timeOutDialog = false\"\n                                  >Cancel</v-btn\n                                >\n                                <v-btn\n                                  text\n                                  color=\"primary\"\n                                  @click=\"\n                                    $refs.timeOutDialog.save(\n                                      newPunchTimeOut,\n                                    )\n                                  \"\n                                  >OK</v-btn\n                                >\n                              </v-time-picker>\n                            </v-dialog>\n                          </v-col>\n                        </v-row>\n                      </v-container>\n                    </v-card-text>\n                    <v-card-actions>\n                      <v-spacer></v-spacer>\n                      <v-btn\n                        color=\"blue darken-1\"\n                        text\n                        @click=\"newSessionDialog = false\"\n                        >Close</v-btn\n                      >\n                      <v-btn\n                        :disabled=\"\n                          !newPunchTimeOut ||\n                            !newPunchUserID ||\n                            !newPunchDate ||\n                            newPunchTimeOut.localeCompare(\n                              newPunchTimeIn,\n                            ) < 0\n                        \"\n                        color=\"blue darken-1\"\n                        text\n                        @click=\"\n                          newSessionDialog = false;\n                          makeNewSession();\n                        \"\n                        >Save</v-btn\n                      >\n                    </v-card-actions>\n                  </v-card>\n                </v-dialog>\n              </div>\n            </v-toolbar>\n          </template>\n        </v-data-table>\n      </div>\n\n      <!-- Amount Earned Card -->\n      <div class=\"d-flex\">\n        <v-card elevation=\"2\" class=\"mx-auto mt-4\">\n          <v-card-text class=\"black--text\">\n            <div>Amount Earned: ${{ amountEarned.toFixed(2) }}</div>\n          </v-card-text>\n        </v-card>\n      </div>\n    </v-col>\n  </v-row>\n</template>\n\n<script>\nimport _ from 'lodash';\nimport moment from 'moment';\n\nexport default {\n  name: 'Clock',\n  computed: {\n    isLoggedIn() {\n      return this.$store.getters.isLoggedIn;\n    },\n  },\n  data() {\n    return {\n      newPunchUserID: null,\n      newPunchDate: null,\n      newPunchTimeIn: null,\n      newPunchTimeOut: null,\n      dateDialog: false,\n      timeInDialog: false,\n      timeOutDialog: false,\n      newSessionDialog: false,\n\n      selectedPunch: [],\n      allUserIDs: [],\n      userID: '',\n      punchData: [],\n      users: [],\n      amountEarned: 0,\n      headers: [\n        { text: 'In Time', value: 'intime', groupable: false },\n        { text: 'Out Time', value: 'outtime', groupable: false },\n        { text: 'Date', value: 'date', groupable: false },\n        { text: 'Hours', value: 'hours', groupable: false },\n      ],\n    };\n  },\n  mounted() {\n    this.getAllUsers();\n  },\n  methods: {\n    async makeNewSession() {\n      let inDateParse = this.newPunchDate.split('-');\n      let inTimeParse = this.newPunchTimeIn.split(':');\n      let outTimeParse = this.newPunchTimeOut.split(':');\n      this.newPunchDate = null;\n      this.newPunchTimeIn = null;\n      this.newPunchTimeOut = null;\n      let inTime = new Date(\n        inDateParse[0],\n        inDateParse[1] - 1,\n        inDateParse[2],\n        inTimeParse[0],\n        inTimeParse[1],\n      );\n      let outTime = new Date(\n        inDateParse[0],\n        inDateParse[1] - 1,\n        inDateParse[2],\n        outTimeParse[0],\n        outTimeParse[1],\n      );\n      this.$axios.post('account/adminclock/newSession', {\n        userID: this.newPunchUserID,\n        inTime,\n        outTime,\n      });\n    },\n    async editSession() {\n      let punch = this.selectedPunch[0];\n      if (typeof punch != 'undefined')\n        await this.$axios.post('account/adminclock/editSession', {\n          id: punch.id,\n          userid: punch.userid,\n          intime: punch.intime,\n          outtime: punch.outtime,\n          date: punch.date,\n          payrate: punch.payrate,\n        });\n    },\n    async getAllUsers() {\n      let users = await this.$axios.get('account/users/getAllUsers');\n      this.users = users.data.users;\n      this.users.forEach(user => {\n        this.allUserIDs.push({\n          username: user.username,\n          id: user.id,\n        });\n      });\n    },\n    async getUserSessions() {\n      let sessions = await this.$axios.get(\n        'account/adminClock/getUserSessions',\n        {\n          params: {\n            userID: this.userID,\n          },\n        },\n      );\n      this.amountEarned = 0; // TODO: rework earnings mechanism\n      this.punchData = [];\n      _.forEach(sessions.data, session => {\n        session.dateObjIn = session.intime;\n        session.date = moment(session.intime).format(\n          'dddd, MMM Do YYYY',\n        );\n\n        if (session.outtime) {\n          session.outtime = moment(session.outtime).format(\n            'hh:mm:ss A',\n          );\n          let computedHours = new Date(null);\n          computedHours.setSeconds(session.secondsworked);\n          session.hours = computedHours.toISOString().substr(11, 8);\n          this.amountEarned +=\n            (session.secondsworked / 3600) * session.payrate;\n        }\n        session.intime = moment(session.intime).format('hh:mm:ss A');\n      });\n\n      this.punchData = sessions.data;\n    },\n    async deletePunch() {\n      let index = this.punchData.findIndex(\n        s => s.id === this.selectedPunch[0].id,\n      );\n\n      await this.$axios\n        .post('account/adminClock/deleteSession', {\n          data: {\n            punchID: this.selectedPunch[0].id,\n          },\n        })\n        .then(\n          this.punchData.splice(index, 1),\n          (this.selectedPunch = []),\n        );\n    },\n  },\n};\n</script>\n"]}]}