{"remainingRequest":"/home/wesam/Code/CMS/cms-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wesam/Code/CMS/cms-ui/src/views/EditClock.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/wesam/Code/CMS/cms-ui/src/views/EditClock.vue","mtime":1600185143909},{"path":"/home/wesam/Code/CMS/cms-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wesam/Code/CMS/cms-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/wesam/Code/CMS/cms-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wesam/Code/CMS/cms-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0Nsb2NrJywKICBjb21wdXRlZDogewogICAgaXNMb2dnZWRJbigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuaXNMb2dnZWRJbjsKICAgIH0sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbmV3UHVuY2hVc2VySUQ6IG51bGwsCiAgICAgIG5ld1B1bmNoRGF0ZTogbnVsbCwKICAgICAgbmV3UHVuY2hUaW1lSW46IG51bGwsCiAgICAgIG5ld1B1bmNoVGltZU91dDogbnVsbCwKICAgICAgZGF0ZURpYWxvZzogZmFsc2UsCiAgICAgIHRpbWVJbkRpYWxvZzogZmFsc2UsCiAgICAgIHRpbWVPdXREaWFsb2c6IGZhbHNlLAogICAgICBuZXdTZXNzaW9uRGlhbG9nOiBmYWxzZSwKCiAgICAgIGFsbFVzZXJJRHM6IFtdLAogICAgICB1c2VySUQ6ICcnLAogICAgICBwdW5jaElEOiAnJywKICAgICAgY2xvY2tTdGF0dXM6ICcnLAogICAgICBwdW5jaERhdGE6IFtdLAogICAgICB1c2VyczogW10sCiAgICAgIGFtb3VudEVhcm5lZDogMCwKICAgICAgc2VhcmNoOiAnJywKICAgICAgaGVhZGVyczogWwogICAgICAgIHsKICAgICAgICAgIHRleHQ6ICdJRCcsCiAgICAgICAgICBhbGlnbjogJ3N0YXJ0JywKICAgICAgICAgIHZhbHVlOiAnaWQnLAogICAgICAgICAgZ3JvdXBhYmxlOiBmYWxzZSwKICAgICAgICB9LAogICAgICAgIHsgdGV4dDogJ0luIFRpbWUnLCB2YWx1ZTogJ2ludGltZScsIGdyb3VwYWJsZTogZmFsc2UgfSwKICAgICAgICB7IHRleHQ6ICdPdXQgVGltZScsIHZhbHVlOiAnb3V0dGltZScsIGdyb3VwYWJsZTogZmFsc2UgfSwKICAgICAgICB7IHRleHQ6ICdEYXRlJywgdmFsdWU6ICdkYXRlJywgZ3JvdXBhYmxlOiBmYWxzZSB9LAogICAgICAgIHsgdGV4dDogJ0hvdXJzJywgdmFsdWU6ICdob3VycycsIGdyb3VwYWJsZTogZmFsc2UgfSwKICAgICAgXSwKICAgICAgLy8gVE9ETzogQWRkIGFiaWxpdHkgdG8gY2hhbmdlIHVzZXIgY2xvY2tzLgogICAgICB1c2VySGVhZGVyczogWwogICAgICAgIHsgdGV4dDogJ0lEJywgdmFsdWU6ICdpZCcgfSwKICAgICAgICB7IHRleHQ6ICdVc2VybmFtZScsIHZhbHVlOiAndXNlcm5hbWUnIH0sCiAgICAgICAgeyB0ZXh0OiAnRS1NYWlsJywgdmFsdWU6ICdlbWFpbCcgfSwKICAgICAgICB7IHRleHQ6ICdSb2xlcycsIHZhbHVlOiAncm9sZXMnIH0sCiAgICAgIF0sCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0Q2xvY2tTdGF0dXMoKTsKICAgIHRoaXMuZ2V0QWxsVXNlcnMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIG1ha2VOZXdTZXNzaW9uKCkgewogICAgICBsZXQgaW5EYXRlUGFyc2UgPSB0aGlzLm5ld1B1bmNoRGF0ZS5zcGxpdCgnLScpOwogICAgICBsZXQgaW5UaW1lUGFyc2UgPSB0aGlzLm5ld1B1bmNoVGltZUluLnNwbGl0KCc6Jyk7CiAgICAgIGxldCBvdXRUaW1lUGFyc2UgPSB0aGlzLm5ld1B1bmNoVGltZU91dC5zcGxpdCgnOicpOwogICAgICBsZXQgaW5UaW1lID0gbmV3IERhdGUoCiAgICAgICAgaW5EYXRlUGFyc2VbMF0sCiAgICAgICAgaW5EYXRlUGFyc2VbMV0gLSAxLAogICAgICAgIGluRGF0ZVBhcnNlWzJdLAogICAgICAgIGluVGltZVBhcnNlWzBdLAogICAgICAgIGluVGltZVBhcnNlWzFdLAogICAgICApOwogICAgICBsZXQgb3V0VGltZSA9IG5ldyBEYXRlKAogICAgICAgIGluRGF0ZVBhcnNlWzBdLAogICAgICAgIGluRGF0ZVBhcnNlWzFdIC0gMSwKICAgICAgICBpbkRhdGVQYXJzZVsyXSwKICAgICAgICBvdXRUaW1lUGFyc2VbMF0sCiAgICAgICAgb3V0VGltZVBhcnNlWzFdLAogICAgICApOwogICAgICB0aGlzLiRheGlvcy5wb3N0KCdhY2NvdW50L2FkbWluY2xvY2svbmV3U2Vzc2lvbicsIHsKICAgICAgICB1c2VySUQ6IHRoaXMubmV3UHVuY2hVc2VySUQsCiAgICAgICAgaW5UaW1lLAogICAgICAgIG91dFRpbWUsCiAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIGVkaXRTZXNzaW9uKCkgewogICAgICBsZXQgcHVuY2ggPSB0aGlzLnB1bmNoRGF0YVswXTsKICAgICAgaWYgKHR5cGVvZiBwdW5jaCAhPSAndW5kZWZpbmVkJykKICAgICAgICBhd2FpdCB0aGlzLiRheGlvcy5wb3N0KCdhY2NvdW50L2FkbWluY2xvY2svZWRpdFNlc3Npb24nLCB7CiAgICAgICAgICBpZDogcHVuY2guaWQsCiAgICAgICAgICB1c2VyaWQ6IHB1bmNoLnVzZXJpZCwKICAgICAgICAgIGludGltZTogcHVuY2guaW50aW1lLAogICAgICAgICAgb3V0dGltZTogcHVuY2gub3V0dGltZSwKICAgICAgICAgIGRhdGU6IHB1bmNoLmRhdGUsCiAgICAgICAgICBwYXlyYXRlOiBwdW5jaC5wYXlyYXRlLAogICAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIGdldEFsbFVzZXJzKCkgewogICAgICBsZXQgdXNlcnMgPSBhd2FpdCB0aGlzLiRheGlvcy5nZXQoJ2FjY291bnQvdXNlcnMvZ2V0QWxsVXNlcnMnKTsKICAgICAgdGhpcy51c2VycyA9IHVzZXJzLmRhdGEudXNlcnM7CiAgICAgIHRoaXMudXNlcnMuZm9yRWFjaCh1c2VyID0+IHsKICAgICAgICB0aGlzLmFsbFVzZXJJRHMucHVzaCh7CiAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSwKICAgICAgICAgIGlkOiB1c2VyLmlkLAogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyBnZXRVc2VyU2Vzc2lvbnMoKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMudXNlcklEKTsKCiAgICAgIGNvbnN0IHNlc3Npb25zID0gYXdhaXQgdGhpcy4kYXhpb3MuZ2V0KAogICAgICAgICdhY2NvdW50L2FkbWluQ2xvY2svZ2V0VXNlclNlc3Npb25zJywKICAgICAgICB7CiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgdXNlcklEOiB0aGlzLnVzZXJJRCwKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgKTsKICAgICAgdGhpcy5lZGl0U2Vzc2lvbigpOyAvL1RPRE8gUkVNT1ZFISEKICAgICAgdGhpcy5hbW91bnRFYXJuZWQgPSAwOyAvLyBUT0RPOiByZXdvcmsgZWFybmluZ3MgbWVjaGFuaXNtCiAgICAgIF8uZm9yRWFjaChzZXNzaW9ucy5kYXRhLCBzZXNzaW9uID0+IHsKICAgICAgICBzZXNzaW9uLmRhdGUgPSBzZXNzaW9uLmludGltZTsKCiAgICAgICAgaWYgKHNlc3Npb24ub3V0dGltZSkgewogICAgICAgICAgbGV0IGNvbXB1dGVkSG91cnMgPSBuZXcgRGF0ZShudWxsKTsKICAgICAgICAgIGNvbXB1dGVkSG91cnMuc2V0U2Vjb25kcyhzZXNzaW9uLnNlY29uZHN3b3JrZWQpOwogICAgICAgICAgc2Vzc2lvbi5ob3VycyA9IGNvbXB1dGVkSG91cnMudG9JU09TdHJpbmcoKS5zdWJzdHIoMTEsIDgpOwogICAgICAgICAgdGhpcy5hbW91bnRFYXJuZWQgKz0KICAgICAgICAgICAgKHNlc3Npb24uc2Vjb25kc3dvcmtlZCAvIDM2MDApICogc2Vzc2lvbi5wYXlyYXRlOwogICAgICAgIH0KICAgICAgfSk7CgogICAgICB0aGlzLnB1bmNoRGF0YSA9IHNlc3Npb25zLmRhdGE7CiAgICB9LAogICAgYXN5bmMgZGVsZXRlUHVuY2goKSB7CiAgICAgIGF3YWl0IHRoaXMuJGF4aW9zLnBvc3QoJ2FjY291bnQvYWRtaW5DbG9jay9kZWxldGVTZXNzaW9uJywgewogICAgICAgIGRhdGE6IHsKICAgICAgICAgIHB1bmNoSUQ6IHRoaXMucHVuY2hJRCwKICAgICAgICB9LAogICAgICB9KTsKICAgICAgYXdhaXQgdGhpcy5nZXRTZXNzaW9ucygpOwogICAgfSwKICAgIGdldEJ1dHRvblRleHQoKSB7CiAgICAgIGlmICh0aGlzLmNsb2NrU3RhdHVzID09ICdpbicpIHJldHVybiAnQ2xvY2sgT3V0JzsKICAgICAgZWxzZSByZXR1cm4gJ0Nsb2NrIEluJzsKICAgIH0sCiAgICBhc3luYyBnZXRDbG9ja1N0YXR1cygpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCB7IGRhdGEgPSB7fSB9ID0gYXdhaXQgdGhpcy4kYXhpb3MuZ2V0KAogICAgICAgICAgJy9hY2NvdW50L2Nsb2NrL3N0YXR1cycsCiAgICAgICAgKTsKICAgICAgICBjb25zdCBjbG9ja1N0YXR1cyA9IGRhdGE7CiAgICAgICAgdGhpcy5jbG9ja1N0YXR1cyA9IGNsb2NrU3RhdHVzOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKCdnZXRDbG9ja1N0YXR1cyAtPiBlcnJvcicsIGVycm9yKTsKICAgICAgfQogICAgfSwKCiAgICBhc3luYyBwdW5jaENsb2NrKCkgewogICAgICB0cnkgewogICAgICAgIGF3YWl0IHRoaXMuJGF4aW9zLnBvc3QoJy9hY2NvdW50L2Nsb2NrL3B1bmNoJyk7CiAgICAgICAgdGhpcy5nZXRDbG9ja1N0YXR1cygpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKCdwdW5jaENsb2NrIC0+IGVycm9yJywgZXJyb3IpOwogICAgICB9CiAgICAgIHRoaXMuZ2V0U2Vzc2lvbnMoKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["EditClock.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoPA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditClock.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-row class=\"justify-center\">\n    <v-col cols=\"12\">\n      <!--\n      Dialog for new session\n      -->\n      <v-row no-gutters justify=\"center\">\n        <v-dialog\n          v-model=\"newSessionDialog\"\n          persistent\n          max-width=\"600px\"\n        >\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn color=\"primary\" dark v-bind=\"attrs\" v-on=\"on\"\n              >New Session</v-btn\n            >\n          </template>\n          <v-card>\n            <v-card-title>\n              <span class=\"headline\">New Session</span>\n            </v-card-title>\n            <v-card-text>\n              <v-container>\n                <v-row>\n                  <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                    <v-select\n                      v-model=\"newPunchUserID\"\n                      :items=\"allUserIDs\"\n                      item-text=\"username\"\n                      item-value=\"id\"\n                      prepend-icon=\"mdi-account\"\n                      label=\"User ID\"\n                      single-line\n                    ></v-select>\n                  </v-col>\n                  <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                    <v-dialog\n                      ref=\"dateDialog\"\n                      v-model=\"dateDialog\"\n                      :return-value.sync=\"newPunchDate\"\n                      width=\"290px\"\n                    >\n                      <template v-slot:activator=\"{ on, attrs }\">\n                        <v-text-field\n                          v-model=\"newPunchDate\"\n                          label=\"Date of session\"\n                          prepend-icon=\"mdi-calendar\"\n                          readonly\n                          v-bind=\"attrs\"\n                          v-on=\"on\"\n                        ></v-text-field>\n                      </template>\n                      <v-date-picker\n                        v-model=\"newPunchDate\"\n                        @input=\"$refs.dateDialog.save(newPunchDate)\"\n                        no-title\n                        scrollable\n                      >\n                        <v-spacer></v-spacer>\n                        <v-btn\n                          text\n                          color=\"primary\"\n                          @click=\"dateDialog = false\"\n                          >Cancel</v-btn\n                        >\n                      </v-date-picker>\n                    </v-dialog>\n                  </v-col>\n\n                  <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                    <v-dialog\n                      ref=\"timeInDialog\"\n                      v-model=\"timeInDialog\"\n                      :close-on-content-click=\"false\"\n                      :return-value.sync=\"newPunchTimeIn\"\n                      width=\"290px\"\n                      persistent\n                    >\n                      <template v-slot:activator=\"{ on, attrs }\">\n                        <v-text-field\n                          v-model=\"newPunchTimeIn\"\n                          label=\"Time in\"\n                          prepend-icon=\"mdi-clock-in\"\n                          readonly\n                          v-bind=\"attrs\"\n                          v-on=\"on\"\n                        ></v-text-field>\n                      </template>\n                      <v-time-picker v-model=\"newPunchTimeIn\">\n                        <v-spacer></v-spacer>\n                        <v-btn\n                          text\n                          color=\"primary\"\n                          @click=\"timeInDialog = false\"\n                          >Cancel</v-btn\n                        >\n                        <v-btn\n                          text\n                          color=\"primary\"\n                          @click=\"\n                            $refs.timeInDialog.save(newPunchTimeIn)\n                          \"\n                          >OK</v-btn\n                        >\n                      </v-time-picker>\n                    </v-dialog>\n                  </v-col>\n\n                  <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                    <v-dialog\n                      ref=\"timeOutDialog\"\n                      v-model=\"timeOutDialog\"\n                      :close-on-content-click=\"false\"\n                      :return-value.sync=\"newPunchTimeOut\"\n                      width=\"290px\"\n                      persistent\n                    >\n                      <template v-slot:activator=\"{ on, attrs }\">\n                        <v-text-field\n                          :disabled=\"!newPunchTimeIn\"\n                          v-model=\"newPunchTimeOut\"\n                          label=\"Time out\"\n                          prepend-icon=\"mdi-clock-out\"\n                          readonly\n                          v-bind=\"attrs\"\n                          v-on=\"on\"\n                        ></v-text-field>\n                      </template>\n                      <v-time-picker\n                        :min=\"newPunchTimeIn\"\n                        v-model=\"newPunchTimeOut\"\n                      >\n                        <v-spacer></v-spacer>\n                        <v-btn\n                          text\n                          color=\"primary\"\n                          @click=\"timeOutDialog = false\"\n                          >Cancel</v-btn\n                        >\n                        <v-btn\n                          text\n                          color=\"primary\"\n                          @click=\"\n                            $refs.timeOutDialog.save(newPunchTimeOut)\n                          \"\n                          >OK</v-btn\n                        >\n                      </v-time-picker>\n                    </v-dialog>\n                  </v-col>\n                </v-row>\n              </v-container>\n            </v-card-text>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn\n                color=\"blue darken-1\"\n                text\n                @click=\"newSessionDialog = false\"\n                >Close</v-btn\n              >\n              <v-btn\n                color=\"blue darken-1\"\n                text\n                @click=\"\n                  newSessionDialog = false;\n                  makeNewSession();\n                \"\n                >Save</v-btn\n              >\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-row>\n      <div>\n        <v-data-table\n          :headers=\"headers\"\n          :items=\"punchData\"\n          item-key=\"id\"\n          :sortBy=\"['id']\"\n          :sort-desc=\"[true]\"\n          :search=\"search\"\n          :mobile-breakpoint=\"0\"\n          multi-sort\n          height=\"50vh\"\n          fixed-header\n          show-group-by\n          dense\n        ></v-data-table>\n      </div>\n      <div>\n        <v-card-text>\n          <v-text-field\n            v-model=\"search\"\n            prepend-icon=\"mdi-magnify\"\n            label=\"Search\"\n            single-line\n            hide-details\n          ></v-text-field>\n        </v-card-text>\n      </div>\n      <div>\n        <v-card-text>\n          <v-select\n            v-model=\"userID\"\n            :items=\"allUserIDs\"\n            item-text=\"username\"\n            item-value=\"id\"\n            prepend-icon=\"mdi-account\"\n            label=\"User ID\"\n            single-line\n            @input=\"getUserSessions\"\n          ></v-select>\n        </v-card-text>\n      </div>\n      <div>\n        <v-card-text class=\"mx-auto\">\n          <v-text-field\n            v-model=\"punchID\"\n            prepend-icon=\"mdi-clock\"\n            label=\"Punch ID\"\n            single-line\n            hide-details\n          ></v-text-field>\n        </v-card-text>\n      </div>\n      <div>\n        <v-btn color=\"red\" class=\"mx-auto\" @click=\"deletePunch()\"\n          >Delete Session</v-btn\n        >\n      </div>\n\n      <div class=\"d-flex\">\n        <v-card elevation=\"2\" class=\"mx-auto mt-4\">\n          <v-card-text class=\"black--text\">\n            <div>Amount Earned: ${{ amountEarned.toFixed(2) }}</div>\n          </v-card-text>\n        </v-card>\n      </div>\n    </v-col>\n  </v-row>\n</template>\n\n<script>\nimport _ from 'lodash';\n\nexport default {\n  name: 'Clock',\n  computed: {\n    isLoggedIn() {\n      return this.$store.getters.isLoggedIn;\n    },\n  },\n  data() {\n    return {\n      newPunchUserID: null,\n      newPunchDate: null,\n      newPunchTimeIn: null,\n      newPunchTimeOut: null,\n      dateDialog: false,\n      timeInDialog: false,\n      timeOutDialog: false,\n      newSessionDialog: false,\n\n      allUserIDs: [],\n      userID: '',\n      punchID: '',\n      clockStatus: '',\n      punchData: [],\n      users: [],\n      amountEarned: 0,\n      search: '',\n      headers: [\n        {\n          text: 'ID',\n          align: 'start',\n          value: 'id',\n          groupable: false,\n        },\n        { text: 'In Time', value: 'intime', groupable: false },\n        { text: 'Out Time', value: 'outtime', groupable: false },\n        { text: 'Date', value: 'date', groupable: false },\n        { text: 'Hours', value: 'hours', groupable: false },\n      ],\n      // TODO: Add ability to change user clocks.\n      userHeaders: [\n        { text: 'ID', value: 'id' },\n        { text: 'Username', value: 'username' },\n        { text: 'E-Mail', value: 'email' },\n        { text: 'Roles', value: 'roles' },\n      ],\n    };\n  },\n  mounted() {\n    this.getClockStatus();\n    this.getAllUsers();\n  },\n  methods: {\n    async makeNewSession() {\n      let inDateParse = this.newPunchDate.split('-');\n      let inTimeParse = this.newPunchTimeIn.split(':');\n      let outTimeParse = this.newPunchTimeOut.split(':');\n      let inTime = new Date(\n        inDateParse[0],\n        inDateParse[1] - 1,\n        inDateParse[2],\n        inTimeParse[0],\n        inTimeParse[1],\n      );\n      let outTime = new Date(\n        inDateParse[0],\n        inDateParse[1] - 1,\n        inDateParse[2],\n        outTimeParse[0],\n        outTimeParse[1],\n      );\n      this.$axios.post('account/adminclock/newSession', {\n        userID: this.newPunchUserID,\n        inTime,\n        outTime,\n      });\n    },\n    async editSession() {\n      let punch = this.punchData[0];\n      if (typeof punch != 'undefined')\n        await this.$axios.post('account/adminclock/editSession', {\n          id: punch.id,\n          userid: punch.userid,\n          intime: punch.intime,\n          outtime: punch.outtime,\n          date: punch.date,\n          payrate: punch.payrate,\n        });\n    },\n    async getAllUsers() {\n      let users = await this.$axios.get('account/users/getAllUsers');\n      this.users = users.data.users;\n      this.users.forEach(user => {\n        this.allUserIDs.push({\n          username: user.username,\n          id: user.id,\n        });\n      });\n    },\n    async getUserSessions() {\n      console.log(this.userID);\n\n      const sessions = await this.$axios.get(\n        'account/adminClock/getUserSessions',\n        {\n          params: {\n            userID: this.userID,\n          },\n        },\n      );\n      this.editSession(); //TODO REMOVE!!\n      this.amountEarned = 0; // TODO: rework earnings mechanism\n      _.forEach(sessions.data, session => {\n        session.date = session.intime;\n\n        if (session.outtime) {\n          let computedHours = new Date(null);\n          computedHours.setSeconds(session.secondsworked);\n          session.hours = computedHours.toISOString().substr(11, 8);\n          this.amountEarned +=\n            (session.secondsworked / 3600) * session.payrate;\n        }\n      });\n\n      this.punchData = sessions.data;\n    },\n    async deletePunch() {\n      await this.$axios.post('account/adminClock/deleteSession', {\n        data: {\n          punchID: this.punchID,\n        },\n      });\n      await this.getSessions();\n    },\n    getButtonText() {\n      if (this.clockStatus == 'in') return 'Clock Out';\n      else return 'Clock In';\n    },\n    async getClockStatus() {\n      try {\n        const { data = {} } = await this.$axios.get(\n          '/account/clock/status',\n        );\n        const clockStatus = data;\n        this.clockStatus = clockStatus;\n      } catch (error) {\n        console.log('getClockStatus -> error', error);\n      }\n    },\n\n    async punchClock() {\n      try {\n        await this.$axios.post('/account/clock/punch');\n        this.getClockStatus();\n      } catch (error) {\n        console.log('punchClock -> error', error);\n      }\n      this.getSessions();\n    },\n  },\n};\n</script>\n"]}]}