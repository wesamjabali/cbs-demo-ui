{"remainingRequest":"/home/wesam/Code/CBS-official/cbs-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wesam/Code/CBS-official/cbs-ui/src/views/AddUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/wesam/Code/CBS-official/cbs-ui/src/views/AddUser.vue","mtime":1600656407287},{"path":"/home/wesam/Code/CBS-official/cbs-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wesam/Code/CBS-official/cbs-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/wesam/Code/CBS-official/cbs-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wesam/Code/CBS-official/cbs-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQWRkVXNlcicsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgZW1haWw6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIHJvbGVzOiBbXSwKICAgICAgcGF5cmF0ZTogJycsCiAgICAgIHVzZXJBZGRlZDogZmFsc2UsCgogICAgICBhZGRVc2VyRm9ybVZhbGlkOiBmYWxzZSwKICAgICAgdXNlcm5hbWVSdWxlczogW3YgPT4gISF2IHx8ICdVc2VybmFtZSBpcyByZXF1aXJlZCddLAogICAgICBlbWFpbFJ1bGVzOiBbCiAgICAgICAgdiA9PiAhIXYgfHwgJ0UtbWFpbCBpcyByZXF1aXJlZCcsCiAgICAgICAgdiA9PiAvLitALitcLi4rLy50ZXN0KHYpIHx8ICdFLW1haWwgbXVzdCBiZSB2YWxpZCcsCiAgICAgIF0sCiAgICAgIHBhc3N3b3JkUnVsZXM6IFsKICAgICAgICB2ID0+ICEhdiB8fCAnUGFzc3dvcmQgaXMgcmVxdWlyZWQnLAogICAgICAgIHYgPT4KICAgICAgICAgICh2ICYmIHYubGVuZ3RoID49IDYpIHx8CiAgICAgICAgICAnUGFzc3dvcmQgbXVzdCBiZSBncmVhdGVyIHRoYW4gNiBjaGFyYWN0ZXJzJywKICAgICAgXSwKICAgICAgcGF5cmF0ZVJ1bGVzOiBbCiAgICAgICAgdiA9PiAhIXYgfHwgJ1BheSByYXRlIGlzIHJlcXVpcmVkJywKICAgICAgICB2ID0+IHYgPiA4IHx8ICdQYXkgcmF0ZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiA4JywKICAgICAgXSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBhZGRVc2VyKCkgewogICAgICBpZiAoIXRoaXMuJHJlZnMuYWRkVXNlckZvcm0udmFsaWRhdGUoKSkgewogICAgICAgIHRoaXMuYWRkVXNlckZvcm1WYWxpZCA9IGZhbHNlOwogICAgICAgIHJldHVybjsKICAgICAgfTsKCiAgICAgIHRyeSB7CiAgICAgICAgaWYgKHRoaXMucm9sZXMuaW5kZXhPZignYXNzb2NpYXRlJykgPT09IC0xKQogICAgICAgICAgdGhpcy5yb2xlcy5wdXNoKCdhc3NvY2lhdGUnKTsKICAgICAgICBsZXQgdXNlcm5hbWUgPSB0aGlzLnVzZXJuYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgbGV0IGVtYWlsID0gdGhpcy5lbWFpbDsKICAgICAgICBsZXQgcGFzc3dvcmQgPSB0aGlzLnBhc3N3b3JkOwogICAgICAgIGxldCBwYXlyYXRlID0gdGhpcy5wYXlyYXRlOwogICAgICAgIGxldCByb2xlcyA9IHRoaXMucm9sZXM7CiAgICAgICAgYXdhaXQgdGhpcy4kYXhpb3MucG9zdCgnL2FjY291bnQvdXNlcnMnLCB7CiAgICAgICAgICB1c2VybmFtZSwKICAgICAgICAgIGVtYWlsLAogICAgICAgICAgcGFzc3dvcmQsCiAgICAgICAgICBwYXlyYXRlLAogICAgICAgICAgcm9sZXMsCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy51c2VyQWRkZWQgPSB0cnVlOwogICAgICAgIGFsZXJ0KCdVc2VyIGFkZGVkLicpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGFsZXJ0KCdFcnJvcjogVXNlciBhbHJlYWR5IGV4aXN0cy4nKTsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["AddUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddUser.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-row no-gutters>\n    <v-col cols=\"12\" class=\"d-flex justify-center\">\n      <v-card\n        class=\"ma-6 pa-6\"\n        :width=\"$vuetify.breakpoint.xsOnly ? '100vw' : '70vw'\"\n        color=\"#f2f2f2\"\n        :disabled=\"userAdded\"\n      >\n        <div class=\"title\">\n          Add User\n        </div>\n        <v-divider class=\"my-3\"></v-divider>\n        <v-form ref=\"addUserForm\" v-model=\"addUserFormValid\" @submit.prevent=\"addUser()\">\n          <v-text-field\n            outlined\n            v-model=\"username\"\n            name=\"username\"\n            type=\"text\"\n            label=\"Username\"\n            required\n            :rules=\"usernameRules\"\n          ></v-text-field>\n          <v-text-field\n            outlined\n            v-model=\"email\"\n            name=\"email\"\n            type=\"email\"\n            label=\"E-mail\"\n            required\n            :rules=\"emailRules\"\n          ></v-text-field>\n          <v-text-field\n            outlined\n            v-model=\"password\"\n            name=\"password\"\n            type=\"password\"\n            label=\"Password\"\n            :rules=\"passwordRules\"\n          ></v-text-field>\n          <v-text-field\n            outlined\n            v-model=\"payrate\"\n            name=\"payrate\"\n            type=\"number\"\n            label=\"Pay rate ($/hr)\"\n            :rules=\"payrateRules\"\n            required\n          ></v-text-field>\n          <v-label>Special Roles:</v-label>\n          <v-checkbox\n            v-model=\"roles\"\n            label=\"Super\"\n            value=\"super\"\n          ></v-checkbox>\n          <div class=\"d-flex justify-center\">\n            <v-btn type=\"submit\" :disabled=\"!addUserFormValid\" color=\"blue\">Add User</v-btn>\n          </div>\n        </v-form>\n      </v-card>\n    </v-col>\n  </v-row>\n</template>\n\n<script>\nexport default {\n  name: 'AddUser',\n  data() {\n    return {\n      username: '',\n      email: '',\n      password: '',\n      roles: [],\n      payrate: '',\n      userAdded: false,\n\n      addUserFormValid: false,\n      usernameRules: [v => !!v || 'Username is required'],\n      emailRules: [\n        v => !!v || 'E-mail is required',\n        v => /.+@.+\\..+/.test(v) || 'E-mail must be valid',\n      ],\n      passwordRules: [\n        v => !!v || 'Password is required',\n        v =>\n          (v && v.length >= 6) ||\n          'Password must be greater than 6 characters',\n      ],\n      payrateRules: [\n        v => !!v || 'Pay rate is required',\n        v => v > 8 || 'Pay rate must be greater than 8',\n      ],\n    };\n  },\n  methods: {\n    async addUser() {\n      if (!this.$refs.addUserForm.validate()) {\n        this.addUserFormValid = false;\n        return;\n      };\n\n      try {\n        if (this.roles.indexOf('associate') === -1)\n          this.roles.push('associate');\n        let username = this.username.toLowerCase();\n        let email = this.email;\n        let password = this.password;\n        let payrate = this.payrate;\n        let roles = this.roles;\n        await this.$axios.post('/account/users', {\n          username,\n          email,\n          password,\n          payrate,\n          roles,\n        });\n        this.userAdded = true;\n        alert('User added.');\n      } catch (error) {\n        alert('Error: User already exists.');\n      }\n    },\n  },\n};\n</script>\n\n<style></style>\n"]}]}